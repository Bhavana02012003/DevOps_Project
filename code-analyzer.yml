engines:

  # ðŸ”µ APEX ENGINE (unchanged)
  pmd:
    file_extensions:
      apex: [".cls", ".trigger"]
      visualforce: [".page", ".component"]

  # ðŸŸ¢ ESLINT ENGINE â€” THIS WAS MISSING
  eslint:
    eslint_config_file: ".eslintrc.json"
    file_extensions:
      javascript: [".js"]
      html: [".html"]
    auto_discover_eslint_config: false

  retire-js:
    disable_engine: true
  regex:
    disable_engine: true
  flow:
    disable_engine: true
  sfge:
    disable_engine: true
  cpd:
    disable_engine: true


rules:
  pmd:

    ApexCRUDViolation:
      severity: 2
      tags: ["Security"]

    ApexBadCrypto:
      severity: 2
      tags: ["Security"]

    VfCsrf:
      severity: 2
      tags: ["Security","Visualforce"]

    VfUnescapeEl:
      severity: 2
      tags: ["Security","Visualforce"]

    AvoidDebugStatements:
      severity: 3
      tags: ["Best Practices"]

  # ðŸŸ¢ ADD ESLINT SEVERITY MAPPING (VERY IMPORTANT)
  eslint:
    no-console:
      severity: 2
    no-debugger:
      severity: 2
    no-unused-vars:
      severity: 3
    eqeqeq:
      severity: 3
